"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["node_modules_sanity_lib__chunks_index-e60b2e9d_js"],{

/***/ "./node_modules/sanity/lib/_chunks/PaneItem-a96ebe52.js":
/*!**************************************************************!*\
  !*** ./node_modules/sanity/lib/_chunks/PaneItem-a96ebe52.js ***!
  \**************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"PaneItem\": function() { return /* binding */ PaneItem; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ \"./node_modules/react/jsx-runtime.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _sanity_icons__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @sanity/icons */ \"./node_modules/@sanity/icons/dist/index.js\");\n/* harmony import */ var _sanity_types__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @sanity/types */ \"./node_modules/@sanity/types/lib/index.esm.js\");\n/* harmony import */ var _sanity_ui__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @sanity/ui */ \"./node_modules/@sanity/ui/dist/index.esm.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var sanity__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! sanity */ \"./node_modules/sanity/lib/index.esm.js\");\n/* harmony import */ var _desk_98f75f88_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./desk-98f75f88.js */ \"./node_modules/sanity/lib/_chunks/desk-98f75f88.js\");\n/* harmony import */ var lodash_omit_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash/omit.js */ \"./node_modules/lodash/omit.js\");\n/* harmony import */ var lodash_omit_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(lodash_omit_js__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _sanity_util_paths__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @sanity/util/paths */ \"./node_modules/@sanity/util/lib/paths.esm.js\");\n/* harmony import */ var sanity_router__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! sanity/router */ \"./node_modules/sanity/lib/router.esm.js\");\n\n\n\n\n\n\n\n\n\n\nconst getUnknownTypeFallback = (id, typeName) => ({\n  title: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"em\", {\n    children: [\"No schema found for type \", /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"code\", {\n      children: typeName\n    })]\n  }),\n  subtitle: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"em\", {\n    children: [\"Document: \", /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"code\", {\n      children: id\n    })]\n  }),\n  media: () => /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_icons__WEBPACK_IMPORTED_MODULE_7__.WarningOutlineIcon, {})\n});\nfunction MissingSchemaType(props) {\n  const {\n    layout,\n    value\n  } = props;\n  return /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(sanity__WEBPACK_IMPORTED_MODULE_2__.SanityDefaultPreview, {\n    ...getUnknownTypeFallback(value._id, value._type),\n    layout\n  });\n}\nfunction getIconWithFallback(icon, schemaType, defaultIcon) {\n  if (icon === false) {\n    return false;\n  }\n  return icon || schemaType && schemaType.icon || defaultIcon || false;\n}\nfunction PaneItem(props) {\n  const {\n    icon,\n    id,\n    layout = \"default\",\n    pressed,\n    schemaType,\n    selected,\n    title,\n    value\n  } = props;\n  const schema = (0,sanity__WEBPACK_IMPORTED_MODULE_2__.useSchema)();\n  const documentPreviewStore = (0,sanity__WEBPACK_IMPORTED_MODULE_2__.useDocumentPreviewStore)();\n  const {\n    ChildLink\n  } = (0,_desk_98f75f88_js__WEBPACK_IMPORTED_MODULE_3__.usePaneRouter)();\n  const documentPresence = (0,sanity__WEBPACK_IMPORTED_MODULE_2__.useDocumentPresence)(id);\n  const hasSchemaType = Boolean(schemaType && schemaType.name && schema.get(schemaType.name));\n  const [clicked, setClicked] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n  const preview = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {\n    if (value && (0,_sanity_types__WEBPACK_IMPORTED_MODULE_8__.isSanityDocument)(value)) {\n      if (!schemaType || !hasSchemaType) {\n        return /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(MissingSchemaType, {\n          value\n        });\n      }\n      return /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_desk_98f75f88_js__WEBPACK_IMPORTED_MODULE_3__.PaneItemPreview, {\n        documentPreviewStore,\n        icon: getIconWithFallback(icon, schemaType, _sanity_icons__WEBPACK_IMPORTED_MODULE_7__.DocumentIcon),\n        layout,\n        schemaType,\n        value,\n        presence: documentPresence\n      });\n    }\n    return /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(sanity__WEBPACK_IMPORTED_MODULE_2__.SanityDefaultPreview, {\n      status: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_9__.Text, {\n        muted: true,\n        children: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_icons__WEBPACK_IMPORTED_MODULE_7__.ChevronRightIcon, {})\n      }),\n      icon: getIconWithFallback(icon, schemaType, _sanity_icons__WEBPACK_IMPORTED_MODULE_7__.FolderIcon),\n      layout,\n      title\n    });\n  }, [documentPreviewStore, hasSchemaType, icon, layout, schemaType, title, value, documentPresence]);\n  const Link = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => function LinkComponent(linkProps) {\n    return /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ChildLink, {\n      ...linkProps,\n      childId: id\n    });\n  }, [ChildLink, id]);\n  const handleClick = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(() => setClicked(true), []);\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => setClicked(false), [selected]);\n  return /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(sanity__WEBPACK_IMPORTED_MODULE_2__.PreviewCard, {\n    __unstable_focusRing: true,\n    as: Link,\n    \"data-as\": \"a\",\n    \"data-ui\": \"PaneItem\",\n    padding: 2,\n    radius: 2,\n    onClick: handleClick,\n    pressed,\n    selected: selected || clicked,\n    tone: \"inherit\",\n    children: preview\n  });\n}\n\n//# sourceMappingURL=PaneItem-a96ebe52.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc2FuaXR5L2xpYi9fY2h1bmtzL1BhbmVJdGVtLWE5NmViZTUyLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQThDO0FBQ2lEO0FBQzlDO0FBQ2Y7QUFDZ0M7QUFDa0Q7QUFDaEQ7QUFDNUM7QUFDSTtBQUNMO0FBQ3ZCO0FBQ0Esd0JBQXdCLHVEQUFJO0FBQzVCLDJEQUEyRCxzREFBRztBQUM5RDtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0gsMkJBQTJCLHVEQUFJO0FBQy9CLDRDQUE0QyxzREFBRztBQUMvQztBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0gsOEJBQThCLHNEQUFHLENBQUMsNkRBQWtCLElBQUk7QUFDeEQsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLHdCQUF3QixzREFBRyxDQUFDLHdEQUFvQjtBQUNoRDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osaUJBQWlCLGlEQUFTO0FBQzFCLCtCQUErQiwrREFBdUI7QUFDdEQ7QUFDQTtBQUNBLElBQUksRUFBRSxnRUFBYTtBQUNuQiwyQkFBMkIsMkRBQW1CO0FBQzlDO0FBQ0EsZ0NBQWdDLCtDQUFRO0FBQ3hDLGtCQUFrQiw4Q0FBTztBQUN6QixpQkFBaUIsK0RBQWdCO0FBQ2pDO0FBQ0EsOEJBQThCLHNEQUFHO0FBQ2pDO0FBQ0EsU0FBUztBQUNUO0FBQ0EsNEJBQTRCLHNEQUFHLENBQUMsOERBQWU7QUFDL0M7QUFDQSxvREFBb0QsdURBQVk7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSwwQkFBMEIsc0RBQUcsQ0FBQyx3REFBb0I7QUFDbEQsNkJBQTZCLHNEQUFHLENBQUMsNENBQUk7QUFDckM7QUFDQSxpQ0FBaUMsc0RBQUcsQ0FBQywyREFBZ0IsSUFBSTtBQUN6RCxPQUFPO0FBQ1Asa0RBQWtELHFEQUFVO0FBQzVEO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNILGVBQWUsOENBQU87QUFDdEIsMEJBQTBCLHNEQUFHO0FBQzdCO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNILHNCQUFzQixrREFBVztBQUNqQyxFQUFFLGdEQUFTO0FBQ1gsd0JBQXdCLHNEQUFHLENBQUMsK0NBQVc7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNvQjtBQUNwQiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvc2FuaXR5L2xpYi9fY2h1bmtzL1BhbmVJdGVtLWE5NmViZTUyLmpzPzBlNWQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsganN4LCBqc3hzIH0gZnJvbSAncmVhY3QvanN4LXJ1bnRpbWUnO1xuaW1wb3J0IHsgV2FybmluZ091dGxpbmVJY29uLCBDaGV2cm9uUmlnaHRJY29uLCBEb2N1bWVudEljb24sIEZvbGRlckljb24gfSBmcm9tICdAc2FuaXR5L2ljb25zJztcbmltcG9ydCB7IGlzU2FuaXR5RG9jdW1lbnQgfSBmcm9tICdAc2FuaXR5L3R5cGVzJztcbmltcG9ydCB7IFRleHQgfSBmcm9tICdAc2FuaXR5L3VpJztcbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VNZW1vLCB1c2VDYWxsYmFjaywgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgU2FuaXR5RGVmYXVsdFByZXZpZXcsIHVzZVNjaGVtYSwgdXNlRG9jdW1lbnRQcmV2aWV3U3RvcmUsIHVzZURvY3VtZW50UHJlc2VuY2UsIFByZXZpZXdDYXJkIH0gZnJvbSAnc2FuaXR5JztcbmltcG9ydCB7IHVzZVBhbmVSb3V0ZXIsIFBhbmVJdGVtUHJldmlldyB9IGZyb20gJy4vZGVzay05OGY3NWY4OC5qcyc7XG5pbXBvcnQgJ2xvZGFzaC9vbWl0LmpzJztcbmltcG9ydCAnQHNhbml0eS91dGlsL3BhdGhzJztcbmltcG9ydCAnc2FuaXR5L3JvdXRlcic7XG5jb25zdCBnZXRVbmtub3duVHlwZUZhbGxiYWNrID0gKGlkLCB0eXBlTmFtZSkgPT4gKHtcbiAgdGl0bGU6IC8qIEBfX1BVUkVfXyAqL2pzeHMoXCJlbVwiLCB7XG4gICAgY2hpbGRyZW46IFtcIk5vIHNjaGVtYSBmb3VuZCBmb3IgdHlwZSBcIiwgLyogQF9fUFVSRV9fICovanN4KFwiY29kZVwiLCB7XG4gICAgICBjaGlsZHJlbjogdHlwZU5hbWVcbiAgICB9KV1cbiAgfSksXG4gIHN1YnRpdGxlOiAvKiBAX19QVVJFX18gKi9qc3hzKFwiZW1cIiwge1xuICAgIGNoaWxkcmVuOiBbXCJEb2N1bWVudDogXCIsIC8qIEBfX1BVUkVfXyAqL2pzeChcImNvZGVcIiwge1xuICAgICAgY2hpbGRyZW46IGlkXG4gICAgfSldXG4gIH0pLFxuICBtZWRpYTogKCkgPT4gLyogQF9fUFVSRV9fICovanN4KFdhcm5pbmdPdXRsaW5lSWNvbiwge30pXG59KTtcbmZ1bmN0aW9uIE1pc3NpbmdTY2hlbWFUeXBlKHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBsYXlvdXQsXG4gICAgdmFsdWVcbiAgfSA9IHByb3BzO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovanN4KFNhbml0eURlZmF1bHRQcmV2aWV3LCB7XG4gICAgLi4uZ2V0VW5rbm93blR5cGVGYWxsYmFjayh2YWx1ZS5faWQsIHZhbHVlLl90eXBlKSxcbiAgICBsYXlvdXRcbiAgfSk7XG59XG5mdW5jdGlvbiBnZXRJY29uV2l0aEZhbGxiYWNrKGljb24sIHNjaGVtYVR5cGUsIGRlZmF1bHRJY29uKSB7XG4gIGlmIChpY29uID09PSBmYWxzZSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gaWNvbiB8fCBzY2hlbWFUeXBlICYmIHNjaGVtYVR5cGUuaWNvbiB8fCBkZWZhdWx0SWNvbiB8fCBmYWxzZTtcbn1cbmZ1bmN0aW9uIFBhbmVJdGVtKHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBpY29uLFxuICAgIGlkLFxuICAgIGxheW91dCA9IFwiZGVmYXVsdFwiLFxuICAgIHByZXNzZWQsXG4gICAgc2NoZW1hVHlwZSxcbiAgICBzZWxlY3RlZCxcbiAgICB0aXRsZSxcbiAgICB2YWx1ZVxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IHNjaGVtYSA9IHVzZVNjaGVtYSgpO1xuICBjb25zdCBkb2N1bWVudFByZXZpZXdTdG9yZSA9IHVzZURvY3VtZW50UHJldmlld1N0b3JlKCk7XG4gIGNvbnN0IHtcbiAgICBDaGlsZExpbmtcbiAgfSA9IHVzZVBhbmVSb3V0ZXIoKTtcbiAgY29uc3QgZG9jdW1lbnRQcmVzZW5jZSA9IHVzZURvY3VtZW50UHJlc2VuY2UoaWQpO1xuICBjb25zdCBoYXNTY2hlbWFUeXBlID0gQm9vbGVhbihzY2hlbWFUeXBlICYmIHNjaGVtYVR5cGUubmFtZSAmJiBzY2hlbWEuZ2V0KHNjaGVtYVR5cGUubmFtZSkpO1xuICBjb25zdCBbY2xpY2tlZCwgc2V0Q2xpY2tlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IHByZXZpZXcgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBpZiAodmFsdWUgJiYgaXNTYW5pdHlEb2N1bWVudCh2YWx1ZSkpIHtcbiAgICAgIGlmICghc2NoZW1hVHlwZSB8fCAhaGFzU2NoZW1hVHlwZSkge1xuICAgICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovanN4KE1pc3NpbmdTY2hlbWFUeXBlLCB7XG4gICAgICAgICAgdmFsdWVcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovanN4KFBhbmVJdGVtUHJldmlldywge1xuICAgICAgICBkb2N1bWVudFByZXZpZXdTdG9yZSxcbiAgICAgICAgaWNvbjogZ2V0SWNvbldpdGhGYWxsYmFjayhpY29uLCBzY2hlbWFUeXBlLCBEb2N1bWVudEljb24pLFxuICAgICAgICBsYXlvdXQsXG4gICAgICAgIHNjaGVtYVR5cGUsXG4gICAgICAgIHZhbHVlLFxuICAgICAgICBwcmVzZW5jZTogZG9jdW1lbnRQcmVzZW5jZVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi9qc3goU2FuaXR5RGVmYXVsdFByZXZpZXcsIHtcbiAgICAgIHN0YXR1czogLyogQF9fUFVSRV9fICovanN4KFRleHQsIHtcbiAgICAgICAgbXV0ZWQ6IHRydWUsXG4gICAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi9qc3goQ2hldnJvblJpZ2h0SWNvbiwge30pXG4gICAgICB9KSxcbiAgICAgIGljb246IGdldEljb25XaXRoRmFsbGJhY2soaWNvbiwgc2NoZW1hVHlwZSwgRm9sZGVySWNvbiksXG4gICAgICBsYXlvdXQsXG4gICAgICB0aXRsZVxuICAgIH0pO1xuICB9LCBbZG9jdW1lbnRQcmV2aWV3U3RvcmUsIGhhc1NjaGVtYVR5cGUsIGljb24sIGxheW91dCwgc2NoZW1hVHlwZSwgdGl0bGUsIHZhbHVlLCBkb2N1bWVudFByZXNlbmNlXSk7XG4gIGNvbnN0IExpbmsgPSB1c2VNZW1vKCgpID0+IGZ1bmN0aW9uIExpbmtDb21wb25lbnQobGlua1Byb3BzKSB7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqL2pzeChDaGlsZExpbmssIHtcbiAgICAgIC4uLmxpbmtQcm9wcyxcbiAgICAgIGNoaWxkSWQ6IGlkXG4gICAgfSk7XG4gIH0sIFtDaGlsZExpbmssIGlkXSk7XG4gIGNvbnN0IGhhbmRsZUNsaWNrID0gdXNlQ2FsbGJhY2soKCkgPT4gc2V0Q2xpY2tlZCh0cnVlKSwgW10pO1xuICB1c2VFZmZlY3QoKCkgPT4gc2V0Q2xpY2tlZChmYWxzZSksIFtzZWxlY3RlZF0pO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovanN4KFByZXZpZXdDYXJkLCB7XG4gICAgX191bnN0YWJsZV9mb2N1c1Jpbmc6IHRydWUsXG4gICAgYXM6IExpbmssXG4gICAgXCJkYXRhLWFzXCI6IFwiYVwiLFxuICAgIFwiZGF0YS11aVwiOiBcIlBhbmVJdGVtXCIsXG4gICAgcGFkZGluZzogMixcbiAgICByYWRpdXM6IDIsXG4gICAgb25DbGljazogaGFuZGxlQ2xpY2ssXG4gICAgcHJlc3NlZCxcbiAgICBzZWxlY3RlZDogc2VsZWN0ZWQgfHwgY2xpY2tlZCxcbiAgICB0b25lOiBcImluaGVyaXRcIixcbiAgICBjaGlsZHJlbjogcHJldmlld1xuICB9KTtcbn1cbmV4cG9ydCB7IFBhbmVJdGVtIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1QYW5lSXRlbS1hOTZlYmU1Mi5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/sanity/lib/_chunks/PaneItem-a96ebe52.js\n"));

/***/ }),

/***/ "./node_modules/sanity/lib/_chunks/index-e60b2e9d.js":
/*!***********************************************************!*\
  !*** ./node_modules/sanity/lib/_chunks/index-e60b2e9d.js ***!
  \***********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ DocumentListPane; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ \"./node_modules/react/jsx-runtime.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _sanity_ui__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @sanity/ui */ \"./node_modules/@sanity/ui/dist/index.esm.js\");\n/* harmony import */ var shallow_equals__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! shallow-equals */ \"./node_modules/shallow-equals/index.js\");\n/* harmony import */ var shallow_equals__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(shallow_equals__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var lodash_isEqual_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash/isEqual.js */ \"./node_modules/lodash/isEqual.js\");\n/* harmony import */ var lodash_isEqual_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash_isEqual_js__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _sanity_icons__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @sanity/icons */ \"./node_modules/@sanity/icons/dist/index.js\");\n/* harmony import */ var sanity_router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! sanity/router */ \"./node_modules/sanity/lib/router.esm.js\");\n/* harmony import */ var _desk_98f75f88_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./desk-98f75f88.js */ \"./node_modules/sanity/lib/_chunks/desk-98f75f88.js\");\n/* harmony import */ var _index_aba2361f_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./index-aba2361f.js */ \"./node_modules/sanity/lib/_chunks/index-aba2361f.js\");\n/* harmony import */ var _sanity_util_paths__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @sanity/util/paths */ \"./node_modules/@sanity/util/lib/paths.esm.js\");\n/* harmony import */ var _sanity_types__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @sanity/types */ \"./node_modules/@sanity/types/lib/index.esm.js\");\n/* harmony import */ var sanity__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! sanity */ \"./node_modules/sanity/lib/index.esm.js\");\n/* harmony import */ var _PaneItem_a96ebe52_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./PaneItem-a96ebe52.js */ \"./node_modules/sanity/lib/_chunks/PaneItem-a96ebe52.js\");\n/* harmony import */ var lodash_omit_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! lodash/omit.js */ \"./node_modules/lodash/omit.js\");\n/* harmony import */ var lodash_omit_js__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(lodash_omit_js__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var lodash_isNumber_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! lodash/isNumber.js */ \"./node_modules/lodash/isNumber.js\");\n/* harmony import */ var lodash_isNumber_js__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(lodash_isNumber_js__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var lodash_isString_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! lodash/isString.js */ \"./node_modules/lodash/isString.js\");\n/* harmony import */ var lodash_isString_js__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(lodash_isString_js__WEBPACK_IMPORTED_MODULE_12__);\n/* harmony import */ var react_rx__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! react-rx */ \"./node_modules/react-rx/dist/esm/index.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! rxjs */ \"./node_modules/rxjs/dist/esm5/index.js\");\n/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! rxjs/operators */ \"./node_modules/rxjs/dist/esm5/operators/index.js\");\n/* harmony import */ var react_fast_compare__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! react-fast-compare */ \"./node_modules/react-fast-compare/index.js\");\n/* harmony import */ var react_fast_compare__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(react_fast_compare__WEBPACK_IMPORTED_MODULE_14__);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst PARTIAL_PAGE_LIMIT = 100;\nconst FULL_LIST_LIMIT = 2e3;\nconst DEFAULT_ORDERING = {\n  by: [{\n    field: \"_updatedAt\",\n    direction: \"desc\"\n  }]\n};\nconst EMPTY_RECORD = {};\nfunction getDocumentKey(value, index) {\n  return value._id ? (0,sanity__WEBPACK_IMPORTED_MODULE_8__.getPublishedId)(value._id) : \"item-\".concat(index);\n}\nfunction removePublishedWithDrafts(documents) {\n  return (0,sanity__WEBPACK_IMPORTED_MODULE_8__.collate)(documents).map(entry => {\n    const doc = entry.draft || entry.published;\n    return {\n      ...doc,\n      hasPublished: !!entry.published,\n      hasDraft: !!entry.draft\n    };\n  });\n}\nconst RE_TYPE_NAME_IN_FILTER = /\\b_type\\s*==\\s*(['\"].*?['\"]|\\$.*?(?:\\s|$))|\\B(['\"].*?['\"]|\\$.*?(?:\\s|$))\\s*==\\s*_type\\b/;\nfunction getTypeNameFromSingleTypeFilter(filter) {\n  let params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  const matches = filter.match(RE_TYPE_NAME_IN_FILTER);\n  if (!matches) {\n    return null;\n  }\n  const match = (matches[1] || matches[2]).trim().replace(/^[\"']|[\"']$/g, \"\");\n  if (match[0] === \"$\") {\n    const k = match.slice(1);\n    const v = params[k];\n    return typeof v === \"string\" ? v : null;\n  }\n  return match;\n}\nfunction isSimpleTypeFilter(filter) {\n  return /^_type\\s*==\\s*['\"$]\\w+['\"]?\\s*$/.test(filter.trim());\n}\nfunction toOrderClause(orderBy) {\n  return orderBy.map(ordering => [wrapFieldWithFn(ordering), (ordering.direction || \"\").toLowerCase()].map(str => str.trim()).filter(Boolean).join(\" \")).join(\",\");\n}\nfunction wrapFieldWithFn(ordering) {\n  return ordering.mapWith ? \"\".concat(ordering.mapWith, \"(\").concat(ordering.field, \")\") : ordering.field;\n}\nfunction applyOrderingFunctions(order, schemaType) {\n  const orderBy = order.by.map(by => {\n    if (by.mapWith) {\n      return by;\n    }\n    const fieldType = tryResolveSchemaTypeForPath(schemaType, by.field);\n    if (!fieldType) {\n      return by;\n    }\n    if (fieldExtendsType(fieldType, \"datetime\")) {\n      return {\n        ...by,\n        mapWith: \"dateTime\"\n      };\n    }\n    if (fieldType.jsonType === \"string\") {\n      return {\n        ...by,\n        mapWith: \"lower\"\n      };\n    }\n    return by;\n  });\n  return orderBy.every((item, index) => item === order.by[index]) ? order : {\n    ...order,\n    by: orderBy\n  };\n}\nfunction tryResolveSchemaTypeForPath(baseType, path) {\n  const pathSegments = _sanity_util_paths__WEBPACK_IMPORTED_MODULE_7__.fromString(path);\n  let current = baseType;\n  for (const segment of pathSegments) {\n    if (!current) {\n      return void 0;\n    }\n    if (typeof segment === \"string\") {\n      current = getFieldTypeByName(current, segment);\n      continue;\n    }\n    const isArrayAccessor = (0,_sanity_types__WEBPACK_IMPORTED_MODULE_15__.isKeySegment)(segment) || (0,_sanity_types__WEBPACK_IMPORTED_MODULE_15__.isIndexSegment)(segment);\n    if (!isArrayAccessor || current.jsonType !== \"array\") {\n      return void 0;\n    }\n    const [memberType, otherType] = current.of || [];\n    if (otherType || !memberType) {\n      return void 0;\n    }\n    if (!(0,_sanity_types__WEBPACK_IMPORTED_MODULE_15__.isReferenceSchemaType)(memberType)) {\n      current = memberType;\n      continue;\n    }\n    const [refType, otherRefType] = memberType.to || [];\n    if (otherRefType || !refType) {\n      return void 0;\n    }\n    current = refType;\n  }\n  return current;\n}\nfunction getFieldTypeByName(type, fieldName) {\n  if (!(\"fields\" in type)) {\n    return void 0;\n  }\n  const fieldType = type.fields.find(field => field.name === fieldName);\n  return fieldType ? fieldType.type : void 0;\n}\nfunction fieldExtendsType(field, ofType) {\n  let current = field.type;\n  while (current) {\n    if (current.name === ofType) {\n      return true;\n    }\n    if (!current.type && current.jsonType === ofType) {\n      return true;\n    }\n    current = current.type;\n  }\n  return false;\n}\nfunction DocumentListPaneContent(props) {\n  const {\n    childItemId,\n    error,\n    filterIsSimpleTypeContraint,\n    fullList,\n    isActive,\n    isLoading,\n    items,\n    layout,\n    onListChange,\n    onRetry,\n    showIcons\n  } = props;\n  const schema = (0,sanity__WEBPACK_IMPORTED_MODULE_8__.useSchema)();\n  const {\n    collapsed: layoutCollapsed\n  } = (0,_desk_98f75f88_js__WEBPACK_IMPORTED_MODULE_5__.usePaneLayout)();\n  const {\n    collapsed,\n    index\n  } = (0,_desk_98f75f88_js__WEBPACK_IMPORTED_MODULE_5__.usePane)();\n  const [shouldRender, setShouldRender] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    if (collapsed) return void 0;\n    const timer = setTimeout(() => {\n      setShouldRender(true);\n    }, 0);\n    return () => {\n      clearTimeout(timer);\n    };\n  }, [collapsed]);\n  const renderItem = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(item => {\n    const publishedId = (0,sanity__WEBPACK_IMPORTED_MODULE_8__.getPublishedId)(item._id);\n    const isSelected = childItemId === publishedId;\n    const pressed = !isActive && isSelected;\n    const selected = isActive && isSelected;\n    return /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_PaneItem_a96ebe52_js__WEBPACK_IMPORTED_MODULE_9__.PaneItem, {\n      icon: showIcons === false ? false : void 0,\n      id: publishedId,\n      pressed,\n      selected,\n      layout,\n      schemaType: schema.get(item._type),\n      value: item\n    });\n  }, [childItemId, isActive, layout, schema, showIcons]);\n  const content = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {\n    if (!shouldRender) {\n      return null;\n    }\n    if (error) {\n      return /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_16__.Flex, {\n        align: \"center\",\n        direction: \"column\",\n        height: \"fill\",\n        justify: \"center\",\n        children: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_16__.Container, {\n          width: 1,\n          children: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_sanity_ui__WEBPACK_IMPORTED_MODULE_16__.Stack, {\n            paddingX: 4,\n            paddingY: 5,\n            space: 4,\n            children: [/* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_16__.Heading, {\n              as: \"h3\",\n              children: \"Could not fetch list items\"\n            }), /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_sanity_ui__WEBPACK_IMPORTED_MODULE_16__.Text, {\n              as: \"p\",\n              children: [\"Error: \", /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"code\", {\n                children: error.message\n              })]\n            }), onRetry && /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_16__.Box, {\n              children: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_16__.Button, {\n                icon: _sanity_icons__WEBPACK_IMPORTED_MODULE_17__.SyncIcon,\n                onClick: onRetry,\n                text: \"Retry\",\n                tone: \"primary\"\n              })\n            })]\n          })\n        })\n      });\n    }\n    if (items === null) {\n      return /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_16__.Flex, {\n        align: \"center\",\n        direction: \"column\",\n        height: \"fill\",\n        justify: \"center\",\n        children: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_index_aba2361f_js__WEBPACK_IMPORTED_MODULE_6__.Delay, {\n          ms: 300,\n          children: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n            children: [/* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_16__.Spinner, {\n              muted: true\n            }), /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_16__.Box, {\n              marginTop: 3,\n              children: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_16__.Text, {\n                align: \"center\",\n                muted: true,\n                size: 1,\n                children: \"Loading documents\\u2026\"\n              })\n            })]\n          })\n        })\n      });\n    }\n    if (!isLoading && items.length === 0) {\n      return /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_16__.Flex, {\n        align: \"center\",\n        direction: \"column\",\n        height: \"fill\",\n        justify: \"center\",\n        children: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_16__.Container, {\n          width: 1,\n          children: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_16__.Box, {\n            paddingX: 4,\n            paddingY: 5,\n            children: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_16__.Text, {\n              align: \"center\",\n              muted: true,\n              size: 2,\n              children: filterIsSimpleTypeContraint ? \"No documents of this type\" : \"No matching documents\"\n            })\n          })\n        })\n      });\n    }\n    const hasMoreItems = fullList && items.length === FULL_LIST_LIMIT;\n    return /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_sanity_ui__WEBPACK_IMPORTED_MODULE_16__.Box, {\n      padding: 2,\n      children: [items.length > 0 && /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_16__.VirtualList, {\n        gap: 1,\n        getItemKey: getDocumentKey,\n        items,\n        renderItem,\n        onChange: onListChange\n      }, \"\".concat(index, \"-\").concat(collapsed)), isLoading && /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_16__.Card, {\n        borderTop: true,\n        marginTop: 1,\n        paddingX: 3,\n        paddingY: 4,\n        children: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_16__.Text, {\n          align: \"center\",\n          muted: true,\n          size: 1,\n          children: \"Loading\\u2026\"\n        })\n      }), hasMoreItems && /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_16__.Card, {\n        marginTop: 1,\n        paddingX: 3,\n        paddingY: 4,\n        radius: 2,\n        tone: \"transparent\",\n        children: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_sanity_ui__WEBPACK_IMPORTED_MODULE_16__.Text, {\n          align: \"center\",\n          muted: true,\n          size: 1,\n          children: [\"Displaying a maximum of \", FULL_LIST_LIMIT, \" documents\"]\n        })\n      })]\n    });\n  }, [error, filterIsSimpleTypeContraint, fullList, onListChange, isLoading, items, onRetry, renderItem, shouldRender, collapsed, index]);\n  return /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_desk_98f75f88_js__WEBPACK_IMPORTED_MODULE_5__.PaneContent, {\n    overflow: layoutCollapsed ? void 0 : \"auto\",\n    children: content\n  });\n}\nconst DocumentListPaneHeader = (0,react__WEBPACK_IMPORTED_MODULE_1__.memo)(_ref => {\n  let {\n    index,\n    initialValueTemplates = [],\n    menuItems = [],\n    menuItemGroups = [],\n    setLayout,\n    setSortOrder,\n    title\n  } = _ref;\n  const {\n    features\n  } = (0,_index_aba2361f_js__WEBPACK_IMPORTED_MODULE_6__.useDeskTool)();\n  const actionHandlers = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {\n    return {\n      setLayout: _ref2 => {\n        let {\n          layout: value\n        } = _ref2;\n        setLayout(value);\n      },\n      setSortOrder: sort => {\n        setSortOrder(sort);\n      }\n    };\n  }, [setLayout, setSortOrder]);\n  return /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_desk_98f75f88_js__WEBPACK_IMPORTED_MODULE_5__.PaneHeader, {\n    backButton: features.backButton && index > 0 && /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_16__.Button, {\n      as: _desk_98f75f88_js__WEBPACK_IMPORTED_MODULE_5__.BackLink,\n      \"data-as\": \"a\",\n      icon: _sanity_icons__WEBPACK_IMPORTED_MODULE_17__.ArrowLeftIcon,\n      mode: \"bleed\"\n    }),\n    title,\n    actions: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_desk_98f75f88_js__WEBPACK_IMPORTED_MODULE_5__.PaneHeaderActions, {\n      initialValueTemplateItems: initialValueTemplates,\n      actionHandlers,\n      menuItemGroups,\n      menuItems\n    })\n  });\n});\nDocumentListPaneHeader.displayName = \"DocumentListPaneHeader\";\nconst INITIAL_CHILD_PROPS = {\n  result: null,\n  error: false\n};\nconst createResultChildProps = documents => ({\n  result: {\n    documents\n  },\n  loading: false,\n  error: false\n});\nconst createErrorChildProps = error => ({\n  result: null,\n  loading: false,\n  error\n});\nconst getQueryResults = function (receivedProps$) {\n  let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  const onRetry$ = new rxjs__WEBPACK_IMPORTED_MODULE_18__.Subject();\n  const onRetry = onRetry$.next.bind(onRetry$);\n  const queryProps$ = receivedProps$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_19__.map)(props => ({\n    client: props.client,\n    query: props.query,\n    params: props.params\n  })), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_19__.distinctUntilChanged)((react_fast_compare__WEBPACK_IMPORTED_MODULE_14___default())), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_19__.publishReplay)(1), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_19__.refCount)());\n  const queryResults$ = queryProps$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_19__.switchMap)(queryProps => {\n    const query$ = (0,sanity__WEBPACK_IMPORTED_MODULE_8__.listenQuery)(queryProps.client, queryProps.query, queryProps.params, options).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_19__.map)(createResultChildProps), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_19__.share)());\n    return (0,rxjs__WEBPACK_IMPORTED_MODULE_18__.merge)((0,rxjs__WEBPACK_IMPORTED_MODULE_18__.of)({\n      loading: true\n    }).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_19__.delay)(400), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_19__.takeUntil)(query$)), query$);\n  }));\n  return queryResults$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_19__.startWith)(INITIAL_CHILD_PROPS), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_19__.catchError)((err, caught$) => (0,rxjs__WEBPACK_IMPORTED_MODULE_18__.concat)((0,rxjs__WEBPACK_IMPORTED_MODULE_18__.of)(createErrorChildProps(err)), (0,rxjs__WEBPACK_IMPORTED_MODULE_18__.merge)((0,rxjs__WEBPACK_IMPORTED_MODULE_18__.fromEvent)(window, \"online\"), onRetry$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_19__.take)(1), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_19__.mergeMapTo)(caught$)))), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_19__.scan)((prev, next) => ({\n    ...prev,\n    ...next,\n    onRetry\n  })));\n};\nfunction useDocumentList(opts) {\n  var _a;\n  const {\n    apiVersion,\n    filter: filter$1,\n    params,\n    sortOrder\n  } = opts;\n  const client = (0,sanity__WEBPACK_IMPORTED_MODULE_8__.useClient)(sanity__WEBPACK_IMPORTED_MODULE_8__.DEFAULT_STUDIO_CLIENT_OPTIONS);\n  const [fullList, setFullList] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n  const fullListRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(fullList);\n  const [result, setResult] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n  const error = (result == null ? void 0 : result.error) || null;\n  const isLoading = (result == null ? void 0 : result.loading) || result === null;\n  const onRetry = result == null ? void 0 : result.onRetry;\n  const documents = (_a = result == null ? void 0 : result.result) == null ? void 0 : _a.documents;\n  const items = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => documents ? removePublishedWithDrafts(documents) : null, [documents]);\n  const query = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {\n    const extendedProjection = sortOrder == null ? void 0 : sortOrder.extendedProjection;\n    const projectionFields = [\"_id\", \"_type\"];\n    const finalProjection = projectionFields.join(\",\");\n    const sortBy = (sortOrder == null ? void 0 : sortOrder.by) || [];\n    const limit = fullList ? FULL_LIST_LIMIT : PARTIAL_PAGE_LIMIT;\n    const sort = sortBy.length > 0 ? sortBy : DEFAULT_ORDERING.by;\n    const order = toOrderClause(sort);\n    if (extendedProjection) {\n      const firstProjection = projectionFields.concat(extendedProjection).join(\",\");\n      return [\"*[\".concat(filter$1, \"] {\").concat(firstProjection, \"}\"), \"order(\".concat(order, \") [0...\").concat(limit, \"]\"), \"{\".concat(finalProjection, \"}\")].join(\"|\");\n    }\n    return \"*[\".concat(filter$1, \"]|order(\").concat(order, \")[0...\").concat(limit, \"]{\").concat(finalProjection, \"}\");\n  }, [filter$1, fullList, sortOrder]);\n  const handleListChange = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(_ref3 => {\n    let {\n      toIndex\n    } = _ref3;\n    if (isLoading || fullListRef.current) {\n      return;\n    }\n    if (toIndex >= PARTIAL_PAGE_LIMIT / 2) {\n      setFullList(true);\n      fullListRef.current = true;\n    }\n  }, [isLoading]);\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    const filterFn = fullList ? queryResult => Boolean(queryResult.result) : () => true;\n    setResult(r => r ? {\n      ...r,\n      loading: true\n    } : null);\n    const queryResults$ = getQueryResults((0,rxjs__WEBPACK_IMPORTED_MODULE_18__.of)({\n      client,\n      query,\n      params\n    }), {\n      apiVersion,\n      tag: \"desk.document-list\"\n    }).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_19__.filter)(filterFn));\n    const sub = queryResults$.subscribe(setResult);\n    return () => sub.unsubscribe();\n  }, [apiVersion, client, fullList, query, params]);\n  (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n    setResult(null);\n    setFullList(false);\n    fullListRef.current = false;\n  }, [filter$1, params, sortOrder, apiVersion]);\n  return {\n    error,\n    fullList,\n    handleListChange,\n    isLoading,\n    items,\n    onRetry\n  };\n}\nconst EMPTY_ARRAY = [];\nfunction useShallowUnique(value) {\n  const valueRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(value);\n  if (!shallow_equals__WEBPACK_IMPORTED_MODULE_2___default()(valueRef.current, value)) {\n    valueRef.current = value;\n  }\n  return valueRef.current;\n}\nconst addSelectedStateToMenuItems = options => {\n  const {\n    menuItems,\n    sortOrderRaw,\n    layout\n  } = options;\n  return menuItems == null ? void 0 : menuItems.map(item => {\n    var _a, _b, _c, _d;\n    if ((_a = item.params) == null ? void 0 : _a.layout) {\n      return {\n        ...item,\n        selected: layout === ((_b = item.params) == null ? void 0 : _b.layout)\n      };\n    }\n    if ((_c = item == null ? void 0 : item.params) == null ? void 0 : _c.by) {\n      return {\n        ...item,\n        selected: lodash_isEqual_js__WEBPACK_IMPORTED_MODULE_3___default()(sortOrderRaw == null ? void 0 : sortOrderRaw.by, ((_d = item == null ? void 0 : item.params) == null ? void 0 : _d.by) || EMPTY_ARRAY)\n      };\n    }\n    return {\n      ...item,\n      selected: false\n    };\n  });\n};\nconst DocumentListPane = (0,react__WEBPACK_IMPORTED_MODULE_1__.memo)(function DocumentListPane2(props) {\n  const {\n    childItemId,\n    index,\n    isActive,\n    isSelected,\n    pane,\n    paneKey\n  } = props;\n  const schema = (0,sanity__WEBPACK_IMPORTED_MODULE_8__.useSchema)();\n  const {\n    name: parentSourceName\n  } = (0,sanity__WEBPACK_IMPORTED_MODULE_8__.useSource)();\n  const {\n    defaultLayout = \"default\",\n    displayOptions,\n    initialValueTemplates = EMPTY_ARRAY,\n    menuItems,\n    menuItemGroups,\n    options,\n    title\n  } = pane;\n  const {\n    apiVersion,\n    defaultOrdering = EMPTY_ARRAY,\n    filter\n  } = options;\n  const params = useShallowUnique(options.params || EMPTY_RECORD);\n  const sourceName = pane.source;\n  const typeName = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => getTypeNameFromSingleTypeFilter(filter, params), [filter, params]);\n  const showIcons = (displayOptions == null ? void 0 : displayOptions.showIcons) !== false;\n  const [layout, setLayout] = (0,_index_aba2361f_js__WEBPACK_IMPORTED_MODULE_6__.useDeskToolSetting)(typeName, \"layout\", defaultLayout);\n  const defaultSortOrder = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {\n    return (defaultOrdering == null ? void 0 : defaultOrdering.length) > 0 ? {\n      by: defaultOrdering\n    } : DEFAULT_ORDERING;\n  }, [defaultOrdering]);\n  const [sortOrderRaw, setSortOrder] = (0,_index_aba2361f_js__WEBPACK_IMPORTED_MODULE_6__.useDeskToolSetting)(typeName, \"sortOrder\", defaultSortOrder);\n  const sortWithOrderingFn = typeName && sortOrderRaw ? applyOrderingFunctions(sortOrderRaw, schema.get(typeName)) : sortOrderRaw;\n  const sortOrder = (0,sanity__WEBPACK_IMPORTED_MODULE_8__.useUnique)(sortWithOrderingFn);\n  const filterIsSimpleTypeContraint = isSimpleTypeFilter(filter);\n  const {\n    error,\n    fullList,\n    handleListChange,\n    isLoading,\n    items,\n    onRetry\n  } = useDocumentList({\n    filter,\n    params,\n    sortOrder,\n    apiVersion\n  });\n  const menuItemsWithSelectedState = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => addSelectedStateToMenuItems({\n    menuItems,\n    sortOrderRaw,\n    layout\n  }), [layout, menuItems, sortOrderRaw]);\n  return /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(sanity__WEBPACK_IMPORTED_MODULE_8__.SourceProvider, {\n    name: sourceName || parentSourceName,\n    children: /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_desk_98f75f88_js__WEBPACK_IMPORTED_MODULE_5__.Pane, {\n      currentMaxWidth: 350,\n      id: paneKey,\n      maxWidth: 640,\n      minWidth: 320,\n      selected: isSelected,\n      children: [_desk_98f75f88_js__WEBPACK_IMPORTED_MODULE_5__._DEBUG, /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(DocumentListPaneHeader, {\n        index,\n        initialValueTemplates,\n        menuItems: menuItemsWithSelectedState,\n        menuItemGroups,\n        setLayout,\n        setSortOrder,\n        title\n      }), /* @__PURE__ */(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(DocumentListPaneContent, {\n        childItemId,\n        error,\n        filterIsSimpleTypeContraint,\n        fullList,\n        isActive,\n        isLoading,\n        items,\n        layout,\n        onListChange: handleListChange,\n        onRetry,\n        showIcons\n      })]\n    })\n  });\n});\n\n//# sourceMappingURL=index-e60b2e9d.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc2FuaXR5L2xpYi9fY2h1bmtzL2luZGV4LWU2MGIyZTlkLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXdEO0FBQ3dCO0FBQzRCO0FBQ2pFO0FBQ0g7QUFDZ0I7QUFDakM7QUFDeUc7QUFDbkQ7QUFDN0I7QUFDb0M7QUFDcUU7QUFDdkc7QUFDMUI7QUFDSTtBQUNBO0FBQ1Y7QUFDMkM7QUFDa0g7QUFDbEk7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixzREFBYztBQUNuQztBQUNBO0FBQ0EsU0FBUywrQ0FBTztBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsMERBQW9CO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0Qiw0REFBWSxhQUFhLDhEQUFjO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxxRUFBcUI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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QUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSixpQkFBaUIsaURBQVM7QUFDMUI7QUFDQTtBQUNBLElBQUksRUFBRSxpREFBUztBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLG1CQUFtQiw4Q0FBTztBQUMxQjtBQUNBLDhCQUE4QixzRUFBa0I7QUFDaEQsMkJBQTJCLDhDQUFPO0FBQ2xDO0FBQ0E7QUFDQSxNQUFNO0FBQ04sR0FBRztBQUNILHVDQUF1QyxzRUFBa0I7QUFDekQ7QUFDQSxvQkFBb0IsaURBQVM7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxxQ0FBcUMsOENBQU87QUFDNUM7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILHdCQUF3QixzREFBRyxDQUFDLGtEQUFjO0FBQzFDO0FBQ0EsNkJBQTZCLHVEQUFJLENBQUMsbURBQUk7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixxREFBTSxpQkFBaUIsc0RBQUc7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPLGtCQUFrQixzREFBRztBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTCxHQUFHO0FBQ0gsQ0FBQztBQUNzQztBQUN2QyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvc2FuaXR5L2xpYi9fY2h1bmtzL2luZGV4LWU2MGIyZTlkLmpzP2Q0ZDQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsganN4LCBqc3hzLCBGcmFnbWVudCB9IGZyb20gJ3JlYWN0L2pzeC1ydW50aW1lJztcbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZUNhbGxiYWNrLCB1c2VNZW1vLCBtZW1vLCB1c2VSZWYgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBGbGV4LCBDb250YWluZXIsIFN0YWNrLCBIZWFkaW5nLCBUZXh0LCBCb3gsIEJ1dHRvbiwgU3Bpbm5lciwgVmlydHVhbExpc3QsIENhcmQgfSBmcm9tICdAc2FuaXR5L3VpJztcbmltcG9ydCBzaGFsbG93RXF1YWxzIGZyb20gJ3NoYWxsb3ctZXF1YWxzJztcbmltcG9ydCBpc0VxdWFsIGZyb20gJ2xvZGFzaC9pc0VxdWFsLmpzJztcbmltcG9ydCB7IFN5bmNJY29uLCBBcnJvd0xlZnRJY29uIH0gZnJvbSAnQHNhbml0eS9pY29ucyc7XG5pbXBvcnQgJ3Nhbml0eS9yb3V0ZXInO1xuaW1wb3J0IHsgdXNlUGFuZUxheW91dCwgdXNlUGFuZSwgUGFuZUNvbnRlbnQsIFBhbmVIZWFkZXIsIEJhY2tMaW5rLCBQYW5lSGVhZGVyQWN0aW9ucywgUGFuZSwgX0RFQlVHIH0gZnJvbSAnLi9kZXNrLTk4Zjc1Zjg4LmpzJztcbmltcG9ydCB7IERlbGF5LCB1c2VEZXNrVG9vbCwgdXNlRGVza1Rvb2xTZXR0aW5nIH0gZnJvbSAnLi9pbmRleC1hYmEyMzYxZi5qcyc7XG5pbXBvcnQgKiBhcyBQYXRoVXRpbHMgZnJvbSAnQHNhbml0eS91dGlsL3BhdGhzJztcbmltcG9ydCB7IGlzS2V5U2VnbWVudCwgaXNJbmRleFNlZ21lbnQsIGlzUmVmZXJlbmNlU2NoZW1hVHlwZSB9IGZyb20gJ0BzYW5pdHkvdHlwZXMnO1xuaW1wb3J0IHsgZ2V0UHVibGlzaGVkSWQsIGNvbGxhdGUsIHVzZVNjaGVtYSwgbGlzdGVuUXVlcnksIHVzZUNsaWVudCwgREVGQVVMVF9TVFVESU9fQ0xJRU5UX09QVElPTlMsIHVzZVNvdXJjZSwgdXNlVW5pcXVlLCBTb3VyY2VQcm92aWRlciB9IGZyb20gJ3Nhbml0eSc7XG5pbXBvcnQgeyBQYW5lSXRlbSB9IGZyb20gJy4vUGFuZUl0ZW0tYTk2ZWJlNTIuanMnO1xuaW1wb3J0ICdsb2Rhc2gvb21pdC5qcyc7XG5pbXBvcnQgJ2xvZGFzaC9pc051bWJlci5qcyc7XG5pbXBvcnQgJ2xvZGFzaC9pc1N0cmluZy5qcyc7XG5pbXBvcnQgJ3JlYWN0LXJ4JztcbmltcG9ydCB7IFN1YmplY3QsIG1lcmdlLCBvZiwgY29uY2F0LCBmcm9tRXZlbnQgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IG1hcCwgZGlzdGluY3RVbnRpbENoYW5nZWQsIHB1Ymxpc2hSZXBsYXksIHJlZkNvdW50LCBzd2l0Y2hNYXAsIHNoYXJlLCBkZWxheSwgdGFrZVVudGlsLCBzdGFydFdpdGgsIGNhdGNoRXJyb3IsIHRha2UsIG1lcmdlTWFwVG8sIHNjYW4sIGZpbHRlciB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcbmltcG9ydCBkZWVwQ29tcGFyZSBmcm9tICdyZWFjdC1mYXN0LWNvbXBhcmUnO1xuY29uc3QgUEFSVElBTF9QQUdFX0xJTUlUID0gMTAwO1xuY29uc3QgRlVMTF9MSVNUX0xJTUlUID0gMmUzO1xuY29uc3QgREVGQVVMVF9PUkRFUklORyA9IHtcbiAgYnk6IFt7XG4gICAgZmllbGQ6IFwiX3VwZGF0ZWRBdFwiLFxuICAgIGRpcmVjdGlvbjogXCJkZXNjXCJcbiAgfV1cbn07XG5jb25zdCBFTVBUWV9SRUNPUkQgPSB7fTtcbmZ1bmN0aW9uIGdldERvY3VtZW50S2V5KHZhbHVlLCBpbmRleCkge1xuICByZXR1cm4gdmFsdWUuX2lkID8gZ2V0UHVibGlzaGVkSWQodmFsdWUuX2lkKSA6IFwiaXRlbS1cIi5jb25jYXQoaW5kZXgpO1xufVxuZnVuY3Rpb24gcmVtb3ZlUHVibGlzaGVkV2l0aERyYWZ0cyhkb2N1bWVudHMpIHtcbiAgcmV0dXJuIGNvbGxhdGUoZG9jdW1lbnRzKS5tYXAoZW50cnkgPT4ge1xuICAgIGNvbnN0IGRvYyA9IGVudHJ5LmRyYWZ0IHx8IGVudHJ5LnB1Ymxpc2hlZDtcbiAgICByZXR1cm4ge1xuICAgICAgLi4uZG9jLFxuICAgICAgaGFzUHVibGlzaGVkOiAhIWVudHJ5LnB1Ymxpc2hlZCxcbiAgICAgIGhhc0RyYWZ0OiAhIWVudHJ5LmRyYWZ0XG4gICAgfTtcbiAgfSk7XG59XG5jb25zdCBSRV9UWVBFX05BTUVfSU5fRklMVEVSID0gL1xcYl90eXBlXFxzKj09XFxzKihbJ1wiXS4qP1snXCJdfFxcJC4qPyg/Olxcc3wkKSl8XFxCKFsnXCJdLio/WydcIl18XFwkLio/KD86XFxzfCQpKVxccyo9PVxccypfdHlwZVxcYi87XG5mdW5jdGlvbiBnZXRUeXBlTmFtZUZyb21TaW5nbGVUeXBlRmlsdGVyKGZpbHRlcikge1xuICBsZXQgcGFyYW1zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgY29uc3QgbWF0Y2hlcyA9IGZpbHRlci5tYXRjaChSRV9UWVBFX05BTUVfSU5fRklMVEVSKTtcbiAgaWYgKCFtYXRjaGVzKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgY29uc3QgbWF0Y2ggPSAobWF0Y2hlc1sxXSB8fCBtYXRjaGVzWzJdKS50cmltKCkucmVwbGFjZSgvXltcIiddfFtcIiddJC9nLCBcIlwiKTtcbiAgaWYgKG1hdGNoWzBdID09PSBcIiRcIikge1xuICAgIGNvbnN0IGsgPSBtYXRjaC5zbGljZSgxKTtcbiAgICBjb25zdCB2ID0gcGFyYW1zW2tdO1xuICAgIHJldHVybiB0eXBlb2YgdiA9PT0gXCJzdHJpbmdcIiA/IHYgOiBudWxsO1xuICB9XG4gIHJldHVybiBtYXRjaDtcbn1cbmZ1bmN0aW9uIGlzU2ltcGxlVHlwZUZpbHRlcihmaWx0ZXIpIHtcbiAgcmV0dXJuIC9eX3R5cGVcXHMqPT1cXHMqWydcIiRdXFx3K1snXCJdP1xccyokLy50ZXN0KGZpbHRlci50cmltKCkpO1xufVxuZnVuY3Rpb24gdG9PcmRlckNsYXVzZShvcmRlckJ5KSB7XG4gIHJldHVybiBvcmRlckJ5Lm1hcChvcmRlcmluZyA9PiBbd3JhcEZpZWxkV2l0aEZuKG9yZGVyaW5nKSwgKG9yZGVyaW5nLmRpcmVjdGlvbiB8fCBcIlwiKS50b0xvd2VyQ2FzZSgpXS5tYXAoc3RyID0+IHN0ci50cmltKCkpLmZpbHRlcihCb29sZWFuKS5qb2luKFwiIFwiKSkuam9pbihcIixcIik7XG59XG5mdW5jdGlvbiB3cmFwRmllbGRXaXRoRm4ob3JkZXJpbmcpIHtcbiAgcmV0dXJuIG9yZGVyaW5nLm1hcFdpdGggPyBcIlwiLmNvbmNhdChvcmRlcmluZy5tYXBXaXRoLCBcIihcIikuY29uY2F0KG9yZGVyaW5nLmZpZWxkLCBcIilcIikgOiBvcmRlcmluZy5maWVsZDtcbn1cbmZ1bmN0aW9uIGFwcGx5T3JkZXJpbmdGdW5jdGlvbnMob3JkZXIsIHNjaGVtYVR5cGUpIHtcbiAgY29uc3Qgb3JkZXJCeSA9IG9yZGVyLmJ5Lm1hcChieSA9PiB7XG4gICAgaWYgKGJ5Lm1hcFdpdGgpIHtcbiAgICAgIHJldHVybiBieTtcbiAgICB9XG4gICAgY29uc3QgZmllbGRUeXBlID0gdHJ5UmVzb2x2ZVNjaGVtYVR5cGVGb3JQYXRoKHNjaGVtYVR5cGUsIGJ5LmZpZWxkKTtcbiAgICBpZiAoIWZpZWxkVHlwZSkge1xuICAgICAgcmV0dXJuIGJ5O1xuICAgIH1cbiAgICBpZiAoZmllbGRFeHRlbmRzVHlwZShmaWVsZFR5cGUsIFwiZGF0ZXRpbWVcIikpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLmJ5LFxuICAgICAgICBtYXBXaXRoOiBcImRhdGVUaW1lXCJcbiAgICAgIH07XG4gICAgfVxuICAgIGlmIChmaWVsZFR5cGUuanNvblR5cGUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLmJ5LFxuICAgICAgICBtYXBXaXRoOiBcImxvd2VyXCJcbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBieTtcbiAgfSk7XG4gIHJldHVybiBvcmRlckJ5LmV2ZXJ5KChpdGVtLCBpbmRleCkgPT4gaXRlbSA9PT0gb3JkZXIuYnlbaW5kZXhdKSA/IG9yZGVyIDoge1xuICAgIC4uLm9yZGVyLFxuICAgIGJ5OiBvcmRlckJ5XG4gIH07XG59XG5mdW5jdGlvbiB0cnlSZXNvbHZlU2NoZW1hVHlwZUZvclBhdGgoYmFzZVR5cGUsIHBhdGgpIHtcbiAgY29uc3QgcGF0aFNlZ21lbnRzID0gUGF0aFV0aWxzLmZyb21TdHJpbmcocGF0aCk7XG4gIGxldCBjdXJyZW50ID0gYmFzZVR5cGU7XG4gIGZvciAoY29uc3Qgc2VnbWVudCBvZiBwYXRoU2VnbWVudHMpIHtcbiAgICBpZiAoIWN1cnJlbnQpIHtcbiAgICAgIHJldHVybiB2b2lkIDA7XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygc2VnbWVudCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgY3VycmVudCA9IGdldEZpZWxkVHlwZUJ5TmFtZShjdXJyZW50LCBzZWdtZW50KTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBjb25zdCBpc0FycmF5QWNjZXNzb3IgPSBpc0tleVNlZ21lbnQoc2VnbWVudCkgfHwgaXNJbmRleFNlZ21lbnQoc2VnbWVudCk7XG4gICAgaWYgKCFpc0FycmF5QWNjZXNzb3IgfHwgY3VycmVudC5qc29uVHlwZSAhPT0gXCJhcnJheVwiKSB7XG4gICAgICByZXR1cm4gdm9pZCAwO1xuICAgIH1cbiAgICBjb25zdCBbbWVtYmVyVHlwZSwgb3RoZXJUeXBlXSA9IGN1cnJlbnQub2YgfHwgW107XG4gICAgaWYgKG90aGVyVHlwZSB8fCAhbWVtYmVyVHlwZSkge1xuICAgICAgcmV0dXJuIHZvaWQgMDtcbiAgICB9XG4gICAgaWYgKCFpc1JlZmVyZW5jZVNjaGVtYVR5cGUobWVtYmVyVHlwZSkpIHtcbiAgICAgIGN1cnJlbnQgPSBtZW1iZXJUeXBlO1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGNvbnN0IFtyZWZUeXBlLCBvdGhlclJlZlR5cGVdID0gbWVtYmVyVHlwZS50byB8fCBbXTtcbiAgICBpZiAob3RoZXJSZWZUeXBlIHx8ICFyZWZUeXBlKSB7XG4gICAgICByZXR1cm4gdm9pZCAwO1xuICAgIH1cbiAgICBjdXJyZW50ID0gcmVmVHlwZTtcbiAgfVxuICByZXR1cm4gY3VycmVudDtcbn1cbmZ1bmN0aW9uIGdldEZpZWxkVHlwZUJ5TmFtZSh0eXBlLCBmaWVsZE5hbWUpIHtcbiAgaWYgKCEoXCJmaWVsZHNcIiBpbiB0eXBlKSkge1xuICAgIHJldHVybiB2b2lkIDA7XG4gIH1cbiAgY29uc3QgZmllbGRUeXBlID0gdHlwZS5maWVsZHMuZmluZChmaWVsZCA9PiBmaWVsZC5uYW1lID09PSBmaWVsZE5hbWUpO1xuICByZXR1cm4gZmllbGRUeXBlID8gZmllbGRUeXBlLnR5cGUgOiB2b2lkIDA7XG59XG5mdW5jdGlvbiBmaWVsZEV4dGVuZHNUeXBlKGZpZWxkLCBvZlR5cGUpIHtcbiAgbGV0IGN1cnJlbnQgPSBmaWVsZC50eXBlO1xuICB3aGlsZSAoY3VycmVudCkge1xuICAgIGlmIChjdXJyZW50Lm5hbWUgPT09IG9mVHlwZSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmICghY3VycmVudC50eXBlICYmIGN1cnJlbnQuanNvblR5cGUgPT09IG9mVHlwZSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGN1cnJlbnQgPSBjdXJyZW50LnR5cGU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gRG9jdW1lbnRMaXN0UGFuZUNvbnRlbnQocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGNoaWxkSXRlbUlkLFxuICAgIGVycm9yLFxuICAgIGZpbHRlcklzU2ltcGxlVHlwZUNvbnRyYWludCxcbiAgICBmdWxsTGlzdCxcbiAgICBpc0FjdGl2ZSxcbiAgICBpc0xvYWRpbmcsXG4gICAgaXRlbXMsXG4gICAgbGF5b3V0LFxuICAgIG9uTGlzdENoYW5nZSxcbiAgICBvblJldHJ5LFxuICAgIHNob3dJY29uc1xuICB9ID0gcHJvcHM7XG4gIGNvbnN0IHNjaGVtYSA9IHVzZVNjaGVtYSgpO1xuICBjb25zdCB7XG4gICAgY29sbGFwc2VkOiBsYXlvdXRDb2xsYXBzZWRcbiAgfSA9IHVzZVBhbmVMYXlvdXQoKTtcbiAgY29uc3Qge1xuICAgIGNvbGxhcHNlZCxcbiAgICBpbmRleFxuICB9ID0gdXNlUGFuZSgpO1xuICBjb25zdCBbc2hvdWxkUmVuZGVyLCBzZXRTaG91bGRSZW5kZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChjb2xsYXBzZWQpIHJldHVybiB2b2lkIDA7XG4gICAgY29uc3QgdGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHNldFNob3VsZFJlbmRlcih0cnVlKTtcbiAgICB9LCAwKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgICB9O1xuICB9LCBbY29sbGFwc2VkXSk7XG4gIGNvbnN0IHJlbmRlckl0ZW0gPSB1c2VDYWxsYmFjayhpdGVtID0+IHtcbiAgICBjb25zdCBwdWJsaXNoZWRJZCA9IGdldFB1Ymxpc2hlZElkKGl0ZW0uX2lkKTtcbiAgICBjb25zdCBpc1NlbGVjdGVkID0gY2hpbGRJdGVtSWQgPT09IHB1Ymxpc2hlZElkO1xuICAgIGNvbnN0IHByZXNzZWQgPSAhaXNBY3RpdmUgJiYgaXNTZWxlY3RlZDtcbiAgICBjb25zdCBzZWxlY3RlZCA9IGlzQWN0aXZlICYmIGlzU2VsZWN0ZWQ7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqL2pzeChQYW5lSXRlbSwge1xuICAgICAgaWNvbjogc2hvd0ljb25zID09PSBmYWxzZSA/IGZhbHNlIDogdm9pZCAwLFxuICAgICAgaWQ6IHB1Ymxpc2hlZElkLFxuICAgICAgcHJlc3NlZCxcbiAgICAgIHNlbGVjdGVkLFxuICAgICAgbGF5b3V0LFxuICAgICAgc2NoZW1hVHlwZTogc2NoZW1hLmdldChpdGVtLl90eXBlKSxcbiAgICAgIHZhbHVlOiBpdGVtXG4gICAgfSk7XG4gIH0sIFtjaGlsZEl0ZW1JZCwgaXNBY3RpdmUsIGxheW91dCwgc2NoZW1hLCBzaG93SWNvbnNdKTtcbiAgY29uc3QgY29udGVudCA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGlmICghc2hvdWxkUmVuZGVyKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaWYgKGVycm9yKSB7XG4gICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovanN4KEZsZXgsIHtcbiAgICAgICAgYWxpZ246IFwiY2VudGVyXCIsXG4gICAgICAgIGRpcmVjdGlvbjogXCJjb2x1bW5cIixcbiAgICAgICAgaGVpZ2h0OiBcImZpbGxcIixcbiAgICAgICAganVzdGlmeTogXCJjZW50ZXJcIixcbiAgICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqL2pzeChDb250YWluZXIsIHtcbiAgICAgICAgICB3aWR0aDogMSxcbiAgICAgICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovanN4cyhTdGFjaywge1xuICAgICAgICAgICAgcGFkZGluZ1g6IDQsXG4gICAgICAgICAgICBwYWRkaW5nWTogNSxcbiAgICAgICAgICAgIHNwYWNlOiA0LFxuICAgICAgICAgICAgY2hpbGRyZW46IFsvKiBAX19QVVJFX18gKi9qc3goSGVhZGluZywge1xuICAgICAgICAgICAgICBhczogXCJoM1wiLFxuICAgICAgICAgICAgICBjaGlsZHJlbjogXCJDb3VsZCBub3QgZmV0Y2ggbGlzdCBpdGVtc1wiXG4gICAgICAgICAgICB9KSwgLyogQF9fUFVSRV9fICovanN4cyhUZXh0LCB7XG4gICAgICAgICAgICAgIGFzOiBcInBcIixcbiAgICAgICAgICAgICAgY2hpbGRyZW46IFtcIkVycm9yOiBcIiwgLyogQF9fUFVSRV9fICovanN4KFwiY29kZVwiLCB7XG4gICAgICAgICAgICAgICAgY2hpbGRyZW46IGVycm9yLm1lc3NhZ2VcbiAgICAgICAgICAgICAgfSldXG4gICAgICAgICAgICB9KSwgb25SZXRyeSAmJiAvKiBAX19QVVJFX18gKi9qc3goQm94LCB7XG4gICAgICAgICAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi9qc3goQnV0dG9uLCB7XG4gICAgICAgICAgICAgICAgaWNvbjogU3luY0ljb24sXG4gICAgICAgICAgICAgICAgb25DbGljazogb25SZXRyeSxcbiAgICAgICAgICAgICAgICB0ZXh0OiBcIlJldHJ5XCIsXG4gICAgICAgICAgICAgICAgdG9uZTogXCJwcmltYXJ5XCJcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0pXVxuICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGl0ZW1zID09PSBudWxsKSB7XG4gICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovanN4KEZsZXgsIHtcbiAgICAgICAgYWxpZ246IFwiY2VudGVyXCIsXG4gICAgICAgIGRpcmVjdGlvbjogXCJjb2x1bW5cIixcbiAgICAgICAgaGVpZ2h0OiBcImZpbGxcIixcbiAgICAgICAganVzdGlmeTogXCJjZW50ZXJcIixcbiAgICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqL2pzeChEZWxheSwge1xuICAgICAgICAgIG1zOiAzMDAsXG4gICAgICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqL2pzeHMoRnJhZ21lbnQsIHtcbiAgICAgICAgICAgIGNoaWxkcmVuOiBbLyogQF9fUFVSRV9fICovanN4KFNwaW5uZXIsIHtcbiAgICAgICAgICAgICAgbXV0ZWQ6IHRydWVcbiAgICAgICAgICAgIH0pLCAvKiBAX19QVVJFX18gKi9qc3goQm94LCB7XG4gICAgICAgICAgICAgIG1hcmdpblRvcDogMyxcbiAgICAgICAgICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqL2pzeChUZXh0LCB7XG4gICAgICAgICAgICAgICAgYWxpZ246IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgbXV0ZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgc2l6ZTogMSxcbiAgICAgICAgICAgICAgICBjaGlsZHJlbjogXCJMb2FkaW5nIGRvY3VtZW50c1xcdTIwMjZcIlxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSldXG4gICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoIWlzTG9hZGluZyAmJiBpdGVtcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi9qc3goRmxleCwge1xuICAgICAgICBhbGlnbjogXCJjZW50ZXJcIixcbiAgICAgICAgZGlyZWN0aW9uOiBcImNvbHVtblwiLFxuICAgICAgICBoZWlnaHQ6IFwiZmlsbFwiLFxuICAgICAgICBqdXN0aWZ5OiBcImNlbnRlclwiLFxuICAgICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovanN4KENvbnRhaW5lciwge1xuICAgICAgICAgIHdpZHRoOiAxLFxuICAgICAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi9qc3goQm94LCB7XG4gICAgICAgICAgICBwYWRkaW5nWDogNCxcbiAgICAgICAgICAgIHBhZGRpbmdZOiA1LFxuICAgICAgICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqL2pzeChUZXh0LCB7XG4gICAgICAgICAgICAgIGFsaWduOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICBtdXRlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgc2l6ZTogMixcbiAgICAgICAgICAgICAgY2hpbGRyZW46IGZpbHRlcklzU2ltcGxlVHlwZUNvbnRyYWludCA/IFwiTm8gZG9jdW1lbnRzIG9mIHRoaXMgdHlwZVwiIDogXCJObyBtYXRjaGluZyBkb2N1bWVudHNcIlxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnN0IGhhc01vcmVJdGVtcyA9IGZ1bGxMaXN0ICYmIGl0ZW1zLmxlbmd0aCA9PT0gRlVMTF9MSVNUX0xJTUlUO1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi9qc3hzKEJveCwge1xuICAgICAgcGFkZGluZzogMixcbiAgICAgIGNoaWxkcmVuOiBbaXRlbXMubGVuZ3RoID4gMCAmJiAvKiBAX19QVVJFX18gKi9qc3goVmlydHVhbExpc3QsIHtcbiAgICAgICAgZ2FwOiAxLFxuICAgICAgICBnZXRJdGVtS2V5OiBnZXREb2N1bWVudEtleSxcbiAgICAgICAgaXRlbXMsXG4gICAgICAgIHJlbmRlckl0ZW0sXG4gICAgICAgIG9uQ2hhbmdlOiBvbkxpc3RDaGFuZ2VcbiAgICAgIH0sIFwiXCIuY29uY2F0KGluZGV4LCBcIi1cIikuY29uY2F0KGNvbGxhcHNlZCkpLCBpc0xvYWRpbmcgJiYgLyogQF9fUFVSRV9fICovanN4KENhcmQsIHtcbiAgICAgICAgYm9yZGVyVG9wOiB0cnVlLFxuICAgICAgICBtYXJnaW5Ub3A6IDEsXG4gICAgICAgIHBhZGRpbmdYOiAzLFxuICAgICAgICBwYWRkaW5nWTogNCxcbiAgICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqL2pzeChUZXh0LCB7XG4gICAgICAgICAgYWxpZ246IFwiY2VudGVyXCIsXG4gICAgICAgICAgbXV0ZWQ6IHRydWUsXG4gICAgICAgICAgc2l6ZTogMSxcbiAgICAgICAgICBjaGlsZHJlbjogXCJMb2FkaW5nXFx1MjAyNlwiXG4gICAgICAgIH0pXG4gICAgICB9KSwgaGFzTW9yZUl0ZW1zICYmIC8qIEBfX1BVUkVfXyAqL2pzeChDYXJkLCB7XG4gICAgICAgIG1hcmdpblRvcDogMSxcbiAgICAgICAgcGFkZGluZ1g6IDMsXG4gICAgICAgIHBhZGRpbmdZOiA0LFxuICAgICAgICByYWRpdXM6IDIsXG4gICAgICAgIHRvbmU6IFwidHJhbnNwYXJlbnRcIixcbiAgICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqL2pzeHMoVGV4dCwge1xuICAgICAgICAgIGFsaWduOiBcImNlbnRlclwiLFxuICAgICAgICAgIG11dGVkOiB0cnVlLFxuICAgICAgICAgIHNpemU6IDEsXG4gICAgICAgICAgY2hpbGRyZW46IFtcIkRpc3BsYXlpbmcgYSBtYXhpbXVtIG9mIFwiLCBGVUxMX0xJU1RfTElNSVQsIFwiIGRvY3VtZW50c1wiXVxuICAgICAgICB9KVxuICAgICAgfSldXG4gICAgfSk7XG4gIH0sIFtlcnJvciwgZmlsdGVySXNTaW1wbGVUeXBlQ29udHJhaW50LCBmdWxsTGlzdCwgb25MaXN0Q2hhbmdlLCBpc0xvYWRpbmcsIGl0ZW1zLCBvblJldHJ5LCByZW5kZXJJdGVtLCBzaG91bGRSZW5kZXIsIGNvbGxhcHNlZCwgaW5kZXhdKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqL2pzeChQYW5lQ29udGVudCwge1xuICAgIG92ZXJmbG93OiBsYXlvdXRDb2xsYXBzZWQgPyB2b2lkIDAgOiBcImF1dG9cIixcbiAgICBjaGlsZHJlbjogY29udGVudFxuICB9KTtcbn1cbmNvbnN0IERvY3VtZW50TGlzdFBhbmVIZWFkZXIgPSBtZW1vKF9yZWYgPT4ge1xuICBsZXQge1xuICAgIGluZGV4LFxuICAgIGluaXRpYWxWYWx1ZVRlbXBsYXRlcyA9IFtdLFxuICAgIG1lbnVJdGVtcyA9IFtdLFxuICAgIG1lbnVJdGVtR3JvdXBzID0gW10sXG4gICAgc2V0TGF5b3V0LFxuICAgIHNldFNvcnRPcmRlcixcbiAgICB0aXRsZVxuICB9ID0gX3JlZjtcbiAgY29uc3Qge1xuICAgIGZlYXR1cmVzXG4gIH0gPSB1c2VEZXNrVG9vbCgpO1xuICBjb25zdCBhY3Rpb25IYW5kbGVycyA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICBzZXRMYXlvdXQ6IF9yZWYyID0+IHtcbiAgICAgICAgbGV0IHtcbiAgICAgICAgICBsYXlvdXQ6IHZhbHVlXG4gICAgICAgIH0gPSBfcmVmMjtcbiAgICAgICAgc2V0TGF5b3V0KHZhbHVlKTtcbiAgICAgIH0sXG4gICAgICBzZXRTb3J0T3JkZXI6IHNvcnQgPT4ge1xuICAgICAgICBzZXRTb3J0T3JkZXIoc29ydCk7XG4gICAgICB9XG4gICAgfTtcbiAgfSwgW3NldExheW91dCwgc2V0U29ydE9yZGVyXSk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi9qc3goUGFuZUhlYWRlciwge1xuICAgIGJhY2tCdXR0b246IGZlYXR1cmVzLmJhY2tCdXR0b24gJiYgaW5kZXggPiAwICYmIC8qIEBfX1BVUkVfXyAqL2pzeChCdXR0b24sIHtcbiAgICAgIGFzOiBCYWNrTGluayxcbiAgICAgIFwiZGF0YS1hc1wiOiBcImFcIixcbiAgICAgIGljb246IEFycm93TGVmdEljb24sXG4gICAgICBtb2RlOiBcImJsZWVkXCJcbiAgICB9KSxcbiAgICB0aXRsZSxcbiAgICBhY3Rpb25zOiAvKiBAX19QVVJFX18gKi9qc3goUGFuZUhlYWRlckFjdGlvbnMsIHtcbiAgICAgIGluaXRpYWxWYWx1ZVRlbXBsYXRlSXRlbXM6IGluaXRpYWxWYWx1ZVRlbXBsYXRlcyxcbiAgICAgIGFjdGlvbkhhbmRsZXJzLFxuICAgICAgbWVudUl0ZW1Hcm91cHMsXG4gICAgICBtZW51SXRlbXNcbiAgICB9KVxuICB9KTtcbn0pO1xuRG9jdW1lbnRMaXN0UGFuZUhlYWRlci5kaXNwbGF5TmFtZSA9IFwiRG9jdW1lbnRMaXN0UGFuZUhlYWRlclwiO1xuY29uc3QgSU5JVElBTF9DSElMRF9QUk9QUyA9IHtcbiAgcmVzdWx0OiBudWxsLFxuICBlcnJvcjogZmFsc2Vcbn07XG5jb25zdCBjcmVhdGVSZXN1bHRDaGlsZFByb3BzID0gZG9jdW1lbnRzID0+ICh7XG4gIHJlc3VsdDoge1xuICAgIGRvY3VtZW50c1xuICB9LFxuICBsb2FkaW5nOiBmYWxzZSxcbiAgZXJyb3I6IGZhbHNlXG59KTtcbmNvbnN0IGNyZWF0ZUVycm9yQ2hpbGRQcm9wcyA9IGVycm9yID0+ICh7XG4gIHJlc3VsdDogbnVsbCxcbiAgbG9hZGluZzogZmFsc2UsXG4gIGVycm9yXG59KTtcbmNvbnN0IGdldFF1ZXJ5UmVzdWx0cyA9IGZ1bmN0aW9uIChyZWNlaXZlZFByb3BzJCkge1xuICBsZXQgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gIGNvbnN0IG9uUmV0cnkkID0gbmV3IFN1YmplY3QoKTtcbiAgY29uc3Qgb25SZXRyeSA9IG9uUmV0cnkkLm5leHQuYmluZChvblJldHJ5JCk7XG4gIGNvbnN0IHF1ZXJ5UHJvcHMkID0gcmVjZWl2ZWRQcm9wcyQucGlwZShtYXAocHJvcHMgPT4gKHtcbiAgICBjbGllbnQ6IHByb3BzLmNsaWVudCxcbiAgICBxdWVyeTogcHJvcHMucXVlcnksXG4gICAgcGFyYW1zOiBwcm9wcy5wYXJhbXNcbiAgfSkpLCBkaXN0aW5jdFVudGlsQ2hhbmdlZChkZWVwQ29tcGFyZSksIHB1Ymxpc2hSZXBsYXkoMSksIHJlZkNvdW50KCkpO1xuICBjb25zdCBxdWVyeVJlc3VsdHMkID0gcXVlcnlQcm9wcyQucGlwZShzd2l0Y2hNYXAocXVlcnlQcm9wcyA9PiB7XG4gICAgY29uc3QgcXVlcnkkID0gbGlzdGVuUXVlcnkocXVlcnlQcm9wcy5jbGllbnQsIHF1ZXJ5UHJvcHMucXVlcnksIHF1ZXJ5UHJvcHMucGFyYW1zLCBvcHRpb25zKS5waXBlKG1hcChjcmVhdGVSZXN1bHRDaGlsZFByb3BzKSwgc2hhcmUoKSk7XG4gICAgcmV0dXJuIG1lcmdlKG9mKHtcbiAgICAgIGxvYWRpbmc6IHRydWVcbiAgICB9KS5waXBlKGRlbGF5KDQwMCksIHRha2VVbnRpbChxdWVyeSQpKSwgcXVlcnkkKTtcbiAgfSkpO1xuICByZXR1cm4gcXVlcnlSZXN1bHRzJC5waXBlKHN0YXJ0V2l0aChJTklUSUFMX0NISUxEX1BST1BTKSwgY2F0Y2hFcnJvcigoZXJyLCBjYXVnaHQkKSA9PiBjb25jYXQob2YoY3JlYXRlRXJyb3JDaGlsZFByb3BzKGVycikpLCBtZXJnZShmcm9tRXZlbnQod2luZG93LCBcIm9ubGluZVwiKSwgb25SZXRyeSQpLnBpcGUodGFrZSgxKSwgbWVyZ2VNYXBUbyhjYXVnaHQkKSkpKSwgc2NhbigocHJldiwgbmV4dCkgPT4gKHtcbiAgICAuLi5wcmV2LFxuICAgIC4uLm5leHQsXG4gICAgb25SZXRyeVxuICB9KSkpO1xufTtcbmZ1bmN0aW9uIHVzZURvY3VtZW50TGlzdChvcHRzKSB7XG4gIHZhciBfYTtcbiAgY29uc3Qge1xuICAgIGFwaVZlcnNpb24sXG4gICAgZmlsdGVyOiBmaWx0ZXIkMSxcbiAgICBwYXJhbXMsXG4gICAgc29ydE9yZGVyXG4gIH0gPSBvcHRzO1xuICBjb25zdCBjbGllbnQgPSB1c2VDbGllbnQoREVGQVVMVF9TVFVESU9fQ0xJRU5UX09QVElPTlMpO1xuICBjb25zdCBbZnVsbExpc3QsIHNldEZ1bGxMaXN0XSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgZnVsbExpc3RSZWYgPSB1c2VSZWYoZnVsbExpc3QpO1xuICBjb25zdCBbcmVzdWx0LCBzZXRSZXN1bHRdID0gdXNlU3RhdGUobnVsbCk7XG4gIGNvbnN0IGVycm9yID0gKHJlc3VsdCA9PSBudWxsID8gdm9pZCAwIDogcmVzdWx0LmVycm9yKSB8fCBudWxsO1xuICBjb25zdCBpc0xvYWRpbmcgPSAocmVzdWx0ID09IG51bGwgPyB2b2lkIDAgOiByZXN1bHQubG9hZGluZykgfHwgcmVzdWx0ID09PSBudWxsO1xuICBjb25zdCBvblJldHJ5ID0gcmVzdWx0ID09IG51bGwgPyB2b2lkIDAgOiByZXN1bHQub25SZXRyeTtcbiAgY29uc3QgZG9jdW1lbnRzID0gKF9hID0gcmVzdWx0ID09IG51bGwgPyB2b2lkIDAgOiByZXN1bHQucmVzdWx0KSA9PSBudWxsID8gdm9pZCAwIDogX2EuZG9jdW1lbnRzO1xuICBjb25zdCBpdGVtcyA9IHVzZU1lbW8oKCkgPT4gZG9jdW1lbnRzID8gcmVtb3ZlUHVibGlzaGVkV2l0aERyYWZ0cyhkb2N1bWVudHMpIDogbnVsbCwgW2RvY3VtZW50c10pO1xuICBjb25zdCBxdWVyeSA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGNvbnN0IGV4dGVuZGVkUHJvamVjdGlvbiA9IHNvcnRPcmRlciA9PSBudWxsID8gdm9pZCAwIDogc29ydE9yZGVyLmV4dGVuZGVkUHJvamVjdGlvbjtcbiAgICBjb25zdCBwcm9qZWN0aW9uRmllbGRzID0gW1wiX2lkXCIsIFwiX3R5cGVcIl07XG4gICAgY29uc3QgZmluYWxQcm9qZWN0aW9uID0gcHJvamVjdGlvbkZpZWxkcy5qb2luKFwiLFwiKTtcbiAgICBjb25zdCBzb3J0QnkgPSAoc29ydE9yZGVyID09IG51bGwgPyB2b2lkIDAgOiBzb3J0T3JkZXIuYnkpIHx8IFtdO1xuICAgIGNvbnN0IGxpbWl0ID0gZnVsbExpc3QgPyBGVUxMX0xJU1RfTElNSVQgOiBQQVJUSUFMX1BBR0VfTElNSVQ7XG4gICAgY29uc3Qgc29ydCA9IHNvcnRCeS5sZW5ndGggPiAwID8gc29ydEJ5IDogREVGQVVMVF9PUkRFUklORy5ieTtcbiAgICBjb25zdCBvcmRlciA9IHRvT3JkZXJDbGF1c2Uoc29ydCk7XG4gICAgaWYgKGV4dGVuZGVkUHJvamVjdGlvbikge1xuICAgICAgY29uc3QgZmlyc3RQcm9qZWN0aW9uID0gcHJvamVjdGlvbkZpZWxkcy5jb25jYXQoZXh0ZW5kZWRQcm9qZWN0aW9uKS5qb2luKFwiLFwiKTtcbiAgICAgIHJldHVybiBbXCIqW1wiLmNvbmNhdChmaWx0ZXIkMSwgXCJdIHtcIikuY29uY2F0KGZpcnN0UHJvamVjdGlvbiwgXCJ9XCIpLCBcIm9yZGVyKFwiLmNvbmNhdChvcmRlciwgXCIpIFswLi4uXCIpLmNvbmNhdChsaW1pdCwgXCJdXCIpLCBcIntcIi5jb25jYXQoZmluYWxQcm9qZWN0aW9uLCBcIn1cIildLmpvaW4oXCJ8XCIpO1xuICAgIH1cbiAgICByZXR1cm4gXCIqW1wiLmNvbmNhdChmaWx0ZXIkMSwgXCJdfG9yZGVyKFwiKS5jb25jYXQob3JkZXIsIFwiKVswLi4uXCIpLmNvbmNhdChsaW1pdCwgXCJde1wiKS5jb25jYXQoZmluYWxQcm9qZWN0aW9uLCBcIn1cIik7XG4gIH0sIFtmaWx0ZXIkMSwgZnVsbExpc3QsIHNvcnRPcmRlcl0pO1xuICBjb25zdCBoYW5kbGVMaXN0Q2hhbmdlID0gdXNlQ2FsbGJhY2soX3JlZjMgPT4ge1xuICAgIGxldCB7XG4gICAgICB0b0luZGV4XG4gICAgfSA9IF9yZWYzO1xuICAgIGlmIChpc0xvYWRpbmcgfHwgZnVsbExpc3RSZWYuY3VycmVudCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodG9JbmRleCA+PSBQQVJUSUFMX1BBR0VfTElNSVQgLyAyKSB7XG4gICAgICBzZXRGdWxsTGlzdCh0cnVlKTtcbiAgICAgIGZ1bGxMaXN0UmVmLmN1cnJlbnQgPSB0cnVlO1xuICAgIH1cbiAgfSwgW2lzTG9hZGluZ10pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGZpbHRlckZuID0gZnVsbExpc3QgPyBxdWVyeVJlc3VsdCA9PiBCb29sZWFuKHF1ZXJ5UmVzdWx0LnJlc3VsdCkgOiAoKSA9PiB0cnVlO1xuICAgIHNldFJlc3VsdChyID0+IHIgPyB7XG4gICAgICAuLi5yLFxuICAgICAgbG9hZGluZzogdHJ1ZVxuICAgIH0gOiBudWxsKTtcbiAgICBjb25zdCBxdWVyeVJlc3VsdHMkID0gZ2V0UXVlcnlSZXN1bHRzKG9mKHtcbiAgICAgIGNsaWVudCxcbiAgICAgIHF1ZXJ5LFxuICAgICAgcGFyYW1zXG4gICAgfSksIHtcbiAgICAgIGFwaVZlcnNpb24sXG4gICAgICB0YWc6IFwiZGVzay5kb2N1bWVudC1saXN0XCJcbiAgICB9KS5waXBlKGZpbHRlcihmaWx0ZXJGbikpO1xuICAgIGNvbnN0IHN1YiA9IHF1ZXJ5UmVzdWx0cyQuc3Vic2NyaWJlKHNldFJlc3VsdCk7XG4gICAgcmV0dXJuICgpID0+IHN1Yi51bnN1YnNjcmliZSgpO1xuICB9LCBbYXBpVmVyc2lvbiwgY2xpZW50LCBmdWxsTGlzdCwgcXVlcnksIHBhcmFtc10pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNldFJlc3VsdChudWxsKTtcbiAgICBzZXRGdWxsTGlzdChmYWxzZSk7XG4gICAgZnVsbExpc3RSZWYuY3VycmVudCA9IGZhbHNlO1xuICB9LCBbZmlsdGVyJDEsIHBhcmFtcywgc29ydE9yZGVyLCBhcGlWZXJzaW9uXSk7XG4gIHJldHVybiB7XG4gICAgZXJyb3IsXG4gICAgZnVsbExpc3QsXG4gICAgaGFuZGxlTGlzdENoYW5nZSxcbiAgICBpc0xvYWRpbmcsXG4gICAgaXRlbXMsXG4gICAgb25SZXRyeVxuICB9O1xufVxuY29uc3QgRU1QVFlfQVJSQVkgPSBbXTtcbmZ1bmN0aW9uIHVzZVNoYWxsb3dVbmlxdWUodmFsdWUpIHtcbiAgY29uc3QgdmFsdWVSZWYgPSB1c2VSZWYodmFsdWUpO1xuICBpZiAoIXNoYWxsb3dFcXVhbHModmFsdWVSZWYuY3VycmVudCwgdmFsdWUpKSB7XG4gICAgdmFsdWVSZWYuY3VycmVudCA9IHZhbHVlO1xuICB9XG4gIHJldHVybiB2YWx1ZVJlZi5jdXJyZW50O1xufVxuY29uc3QgYWRkU2VsZWN0ZWRTdGF0ZVRvTWVudUl0ZW1zID0gb3B0aW9ucyA9PiB7XG4gIGNvbnN0IHtcbiAgICBtZW51SXRlbXMsXG4gICAgc29ydE9yZGVyUmF3LFxuICAgIGxheW91dFxuICB9ID0gb3B0aW9ucztcbiAgcmV0dXJuIG1lbnVJdGVtcyA9PSBudWxsID8gdm9pZCAwIDogbWVudUl0ZW1zLm1hcChpdGVtID0+IHtcbiAgICB2YXIgX2EsIF9iLCBfYywgX2Q7XG4gICAgaWYgKChfYSA9IGl0ZW0ucGFyYW1zKSA9PSBudWxsID8gdm9pZCAwIDogX2EubGF5b3V0KSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5pdGVtLFxuICAgICAgICBzZWxlY3RlZDogbGF5b3V0ID09PSAoKF9iID0gaXRlbS5wYXJhbXMpID09IG51bGwgPyB2b2lkIDAgOiBfYi5sYXlvdXQpXG4gICAgICB9O1xuICAgIH1cbiAgICBpZiAoKF9jID0gaXRlbSA9PSBudWxsID8gdm9pZCAwIDogaXRlbS5wYXJhbXMpID09IG51bGwgPyB2b2lkIDAgOiBfYy5ieSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uaXRlbSxcbiAgICAgICAgc2VsZWN0ZWQ6IGlzRXF1YWwoc29ydE9yZGVyUmF3ID09IG51bGwgPyB2b2lkIDAgOiBzb3J0T3JkZXJSYXcuYnksICgoX2QgPSBpdGVtID09IG51bGwgPyB2b2lkIDAgOiBpdGVtLnBhcmFtcykgPT0gbnVsbCA/IHZvaWQgMCA6IF9kLmJ5KSB8fCBFTVBUWV9BUlJBWSlcbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAuLi5pdGVtLFxuICAgICAgc2VsZWN0ZWQ6IGZhbHNlXG4gICAgfTtcbiAgfSk7XG59O1xuY29uc3QgRG9jdW1lbnRMaXN0UGFuZSA9IG1lbW8oZnVuY3Rpb24gRG9jdW1lbnRMaXN0UGFuZTIocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGNoaWxkSXRlbUlkLFxuICAgIGluZGV4LFxuICAgIGlzQWN0aXZlLFxuICAgIGlzU2VsZWN0ZWQsXG4gICAgcGFuZSxcbiAgICBwYW5lS2V5XG4gIH0gPSBwcm9wcztcbiAgY29uc3Qgc2NoZW1hID0gdXNlU2NoZW1hKCk7XG4gIGNvbnN0IHtcbiAgICBuYW1lOiBwYXJlbnRTb3VyY2VOYW1lXG4gIH0gPSB1c2VTb3VyY2UoKTtcbiAgY29uc3Qge1xuICAgIGRlZmF1bHRMYXlvdXQgPSBcImRlZmF1bHRcIixcbiAgICBkaXNwbGF5T3B0aW9ucyxcbiAgICBpbml0aWFsVmFsdWVUZW1wbGF0ZXMgPSBFTVBUWV9BUlJBWSxcbiAgICBtZW51SXRlbXMsXG4gICAgbWVudUl0ZW1Hcm91cHMsXG4gICAgb3B0aW9ucyxcbiAgICB0aXRsZVxuICB9ID0gcGFuZTtcbiAgY29uc3Qge1xuICAgIGFwaVZlcnNpb24sXG4gICAgZGVmYXVsdE9yZGVyaW5nID0gRU1QVFlfQVJSQVksXG4gICAgZmlsdGVyXG4gIH0gPSBvcHRpb25zO1xuICBjb25zdCBwYXJhbXMgPSB1c2VTaGFsbG93VW5pcXVlKG9wdGlvbnMucGFyYW1zIHx8IEVNUFRZX1JFQ09SRCk7XG4gIGNvbnN0IHNvdXJjZU5hbWUgPSBwYW5lLnNvdXJjZTtcbiAgY29uc3QgdHlwZU5hbWUgPSB1c2VNZW1vKCgpID0+IGdldFR5cGVOYW1lRnJvbVNpbmdsZVR5cGVGaWx0ZXIoZmlsdGVyLCBwYXJhbXMpLCBbZmlsdGVyLCBwYXJhbXNdKTtcbiAgY29uc3Qgc2hvd0ljb25zID0gKGRpc3BsYXlPcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBkaXNwbGF5T3B0aW9ucy5zaG93SWNvbnMpICE9PSBmYWxzZTtcbiAgY29uc3QgW2xheW91dCwgc2V0TGF5b3V0XSA9IHVzZURlc2tUb29sU2V0dGluZyh0eXBlTmFtZSwgXCJsYXlvdXRcIiwgZGVmYXVsdExheW91dCk7XG4gIGNvbnN0IGRlZmF1bHRTb3J0T3JkZXIgPSB1c2VNZW1vKCgpID0+IHtcbiAgICByZXR1cm4gKGRlZmF1bHRPcmRlcmluZyA9PSBudWxsID8gdm9pZCAwIDogZGVmYXVsdE9yZGVyaW5nLmxlbmd0aCkgPiAwID8ge1xuICAgICAgYnk6IGRlZmF1bHRPcmRlcmluZ1xuICAgIH0gOiBERUZBVUxUX09SREVSSU5HO1xuICB9LCBbZGVmYXVsdE9yZGVyaW5nXSk7XG4gIGNvbnN0IFtzb3J0T3JkZXJSYXcsIHNldFNvcnRPcmRlcl0gPSB1c2VEZXNrVG9vbFNldHRpbmcodHlwZU5hbWUsIFwic29ydE9yZGVyXCIsIGRlZmF1bHRTb3J0T3JkZXIpO1xuICBjb25zdCBzb3J0V2l0aE9yZGVyaW5nRm4gPSB0eXBlTmFtZSAmJiBzb3J0T3JkZXJSYXcgPyBhcHBseU9yZGVyaW5nRnVuY3Rpb25zKHNvcnRPcmRlclJhdywgc2NoZW1hLmdldCh0eXBlTmFtZSkpIDogc29ydE9yZGVyUmF3O1xuICBjb25zdCBzb3J0T3JkZXIgPSB1c2VVbmlxdWUoc29ydFdpdGhPcmRlcmluZ0ZuKTtcbiAgY29uc3QgZmlsdGVySXNTaW1wbGVUeXBlQ29udHJhaW50ID0gaXNTaW1wbGVUeXBlRmlsdGVyKGZpbHRlcik7XG4gIGNvbnN0IHtcbiAgICBlcnJvcixcbiAgICBmdWxsTGlzdCxcbiAgICBoYW5kbGVMaXN0Q2hhbmdlLFxuICAgIGlzTG9hZGluZyxcbiAgICBpdGVtcyxcbiAgICBvblJldHJ5XG4gIH0gPSB1c2VEb2N1bWVudExpc3Qoe1xuICAgIGZpbHRlcixcbiAgICBwYXJhbXMsXG4gICAgc29ydE9yZGVyLFxuICAgIGFwaVZlcnNpb25cbiAgfSk7XG4gIGNvbnN0IG1lbnVJdGVtc1dpdGhTZWxlY3RlZFN0YXRlID0gdXNlTWVtbygoKSA9PiBhZGRTZWxlY3RlZFN0YXRlVG9NZW51SXRlbXMoe1xuICAgIG1lbnVJdGVtcyxcbiAgICBzb3J0T3JkZXJSYXcsXG4gICAgbGF5b3V0XG4gIH0pLCBbbGF5b3V0LCBtZW51SXRlbXMsIHNvcnRPcmRlclJhd10pO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovanN4KFNvdXJjZVByb3ZpZGVyLCB7XG4gICAgbmFtZTogc291cmNlTmFtZSB8fCBwYXJlbnRTb3VyY2VOYW1lLFxuICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi9qc3hzKFBhbmUsIHtcbiAgICAgIGN1cnJlbnRNYXhXaWR0aDogMzUwLFxuICAgICAgaWQ6IHBhbmVLZXksXG4gICAgICBtYXhXaWR0aDogNjQwLFxuICAgICAgbWluV2lkdGg6IDMyMCxcbiAgICAgIHNlbGVjdGVkOiBpc1NlbGVjdGVkLFxuICAgICAgY2hpbGRyZW46IFtfREVCVUcsIC8qIEBfX1BVUkVfXyAqL2pzeChEb2N1bWVudExpc3RQYW5lSGVhZGVyLCB7XG4gICAgICAgIGluZGV4LFxuICAgICAgICBpbml0aWFsVmFsdWVUZW1wbGF0ZXMsXG4gICAgICAgIG1lbnVJdGVtczogbWVudUl0ZW1zV2l0aFNlbGVjdGVkU3RhdGUsXG4gICAgICAgIG1lbnVJdGVtR3JvdXBzLFxuICAgICAgICBzZXRMYXlvdXQsXG4gICAgICAgIHNldFNvcnRPcmRlcixcbiAgICAgICAgdGl0bGVcbiAgICAgIH0pLCAvKiBAX19QVVJFX18gKi9qc3goRG9jdW1lbnRMaXN0UGFuZUNvbnRlbnQsIHtcbiAgICAgICAgY2hpbGRJdGVtSWQsXG4gICAgICAgIGVycm9yLFxuICAgICAgICBmaWx0ZXJJc1NpbXBsZVR5cGVDb250cmFpbnQsXG4gICAgICAgIGZ1bGxMaXN0LFxuICAgICAgICBpc0FjdGl2ZSxcbiAgICAgICAgaXNMb2FkaW5nLFxuICAgICAgICBpdGVtcyxcbiAgICAgICAgbGF5b3V0LFxuICAgICAgICBvbkxpc3RDaGFuZ2U6IGhhbmRsZUxpc3RDaGFuZ2UsXG4gICAgICAgIG9uUmV0cnksXG4gICAgICAgIHNob3dJY29uc1xuICAgICAgfSldXG4gICAgfSlcbiAgfSk7XG59KTtcbmV4cG9ydCB7IERvY3VtZW50TGlzdFBhbmUgYXMgZGVmYXVsdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgtZTYwYjJlOWQuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/sanity/lib/_chunks/index-e60b2e9d.js\n"));

/***/ })

}]);